(this["webpackJsonpcroma-pdp-app"]=this["webpackJsonpcroma-pdp-app"]||[]).push([[59],{1001:function(e,a,t){"use strict";t.r(a),t.d(a,"mapStateToProps",(function(){return O}));var r=t(2),c=t(0),o=t.n(c),n=t(68),l=t(30),m=t(17),i=t(3),p=t(190),u=t(7),s=t(16).Link;var d=function(e){var a=e.item,t=e.removeProductFromCompareTray,c=e.pdpInfoData,l=e.shippingInfoGAEvent,m=o.a.useState(""),d=Object(r.a)(m,2),_=d[0],g=d[1],f=o.a.useState(""),v=Object(r.a)(f,2),y=v[0],E=v[1],b=Object(n.useHistory)();o.a.useEffect((function(){g("slpTrayBg"),E("slpTrayColor")}),[]);try{return o.a.createElement("div",{className:"compare-product ".concat(_)},o.a.createElement("div",{className:"product-img"},o.a.createElement(o.a.Fragment,null,i.a.IMAGEKIT_FLAG?o.a.createElement(o.a.Fragment,null,Array.isArray(a.product_image_url)?o.a.createElement("img",{src:a.product_image_url.length>0?Object(u.c)(a.product_image_url[0]):Object(u.c)("".concat(i.a.localAssetUrl,"products/No_image.png")),alt:"".concat(a.product_image_text),title:a.product_image_text}):o.a.createElement("img",{src:a.product_image_url?Object(u.c)(a.product_image_url):Object(u.c)("".concat(i.a.localAssetUrl,"products/No_image.png")),alt:"".concat(a.product_image_text),title:a.product_image_text})):o.a.createElement(o.a.Fragment,null," ",Array.isArray(a.product_image_url)?o.a.createElement("img",{src:a.product_image_url.length>0?a.product_image_url[0]:"".concat(i.a.localAssetUrl,"products/No_image.png"),alt:"".concat(a.product_image_text),title:a.product_image_text,onError:"undefined"!==typeof window&&window.defaultSrc}):o.a.createElement("img",{src:a.product_image_url?a.product_image_url:"".concat(i.a.localAssetUrl,"products/No_image.png"),alt:"".concat(a.product_image_text),title:a.product_image_text,onError:"undefined"!==typeof window&&window.defaultSrc}))," ")),o.a.createElement("div",{className:"product-info"},o.a.createElement("p",{className:"product-title ".concat(y)},o.a.createElement(s,{to:"#",onClick:function(e){var t;e.preventDefault(),t=a.product_detail_page_url,b.push(t)}},a.product_title)),o.a.createElement("div",{className:"cp-price"},o.a.createElement("span",{className:"new-price ".concat(y)},o.a.createElement("span",{className:"icon icon-rupee"}),o.a.createElement("span",{className:"amount"},a.discount_price?parseFloat(a.discount_price).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"):a.product_price?parseFloat(a.product_price).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"):0)))),o.a.createElement("span",{className:"icon icon-close",onClick:function(e){t(e,a.catalog_item_id,a),Object(p.d)(a,c,"compare_flow_36_remove_from_compare",l)}}))}catch(N){return console.log(N),o.a.createElement(o.a.Fragment,null," ")}},_=t(364),g=t(16).Link,f=o.a.memo(d);var v=function(e){var a=e.compareProductData,t=e.removeProductFromCompareTray,n=e.pdpInfoData,l=e.shippingInfoGAEvent,i=Object(c.useState)(0),p=Object(r.a)(i,2),u=p[0],s=p[1],d="";n&&n.pdpBreadcrumbs&&Array.isArray(n.pdpBreadcrumbs)&&n.pdpBreadcrumbs.length>0&&(d=n.pdpBreadcrumbs.length>2?n.pdpBreadcrumbs[1].url:n.pdpBreadcrumbs[0].url),Object(c.useEffect)((function(){a&&a.length<=5&&s(new Array(5-a.length))}),[a]);try{return o.a.createElement("div",{className:"compare-items pdp-compare-items"},o.a.createElement("div",{className:"swiper-container"},o.a.createElement("div",{className:"swiper-wrapper"},a&&Array.isArray(a)&&a.map((function(e,a){return o.a.createElement("div",{className:"swiper-slide",key:a},o.a.createElement(f,{item:e,removeProductFromCompareTray:t,pdpInfoData:n,shippingInfoGAEvent:l}))})),u&&Array.isArray(Object(m.a)(u))&&Object(m.a)(u).map((function(e,a){return o.a.createElement("div",{className:"swiper-slide",key:a},o.a.createElement(g,{to:d,onClick:function(){return Object(_.a)("add product")},className:"navigate-to-plp"},o.a.createElement("div",{className:"empty-compare"},"\xa0")))})))))}catch(v){return console.log(v),o.a.createElement(o.a.Fragment,null," ")}},y=t(4),E=t(312),b=t(18),N=function(e,a,t,r){var c,o,n,l,m=Object(b.c)(),i=m.pagetype,p=m.source_page_url,u=m.previous_page_url,s=m.destination_page_url,d=m.customer_hash,_=m.platform,g=localStorage.getItem("login_trigger");window.dataLayer.push({event:a,pagetype:i,source_page_url:p,previous_page_url:u,destination_page_url:s,click_text:t,interaction_type:"Click",sequence:"N/A",total_elements:null===e||void 0===e?void 0:e.length,section:"N/A",item_name:(l=e,l&&l.map((function(e){return{item_name:(null===e||void 0===e?void 0:e.product_title)||"N/A",item_id:(null===e||void 0===e?void 0:e.catalog_item_id)||"N/A"}}))),item_category:r?null===(c=r[0])||void 0===c?void 0:c.name:"N/A",item_category2:r?null===(o=r[1])||void 0===o?void 0:o.name:"N/A",item_category3:r?null===(n=r[2])||void 0===n?void 0:n.name:"N/A",brand:"N/A",platform:_,creative_id:"N/A",login_trigger:d?g:"N/A",login_status:!!d,user_id:d})},A=o.a.memo(v);var O=function(e){return{pdpInfoData:e.pdpReducer.pdpData}};a.default=Object(l.b)(O,null)((function(e){var a=e.compareTrayExpanded,t=e.pdpInfoData,l=e.shippingInfoGAEvent,m=Object(n.useHistory)(),i=Object(c.useRef)(),p=Object(c.useRef)(),u=Object(c.useState)(!1),s=Object(r.a)(u,2),d=s[0],g=s[1],f=Object(c.useState)([]),v=Object(r.a)(f,2),b=v[0],O=v[1],h="/compare=products?",S={};"undefined"!==typeof Storage&&localStorage.getItem("breadCrumbDataGA")&&(S=JSON.parse(localStorage.getItem("breadCrumbDataGA"))),Object(c.useEffect)((function(){a&&I()}),[a]),Object(c.useEffect)((function(){var e=localStorage.getItem("compareTrayItems");O(e?JSON.parse(e):[])}),[]);var I=function(){var e=localStorage.getItem("compareTrayItems");e&&(JSON.parse(e).length>0?g(!0):g(!1));O(e?JSON.parse(e):[])};try{return o.a.createElement("div",{className:"cp-compare typ-pdp pdp-compare-tray"},b&&Array.isArray(b)&&b.length>0&&o.a.createElement("button",{className:"compare-product-btn",ref:p,onClick:function(){I(),N(b,"compare_flow_35_compare_cta_click","Compare CTA",S)}},y.a.COMPARE_BUTTON_TEXT," (",b.length,")"),o.a.createElement("div",{ref:i,className:"product-wrap ".concat(d?"active":"")},o.a.createElement("div",{className:"container"},o.a.createElement(A,{compareProductData:b,removeProductFromCompareTray:function(e,a,t){if(document.querySelector(".compare".concat(a)))for(var r=document.querySelectorAll(".compare".concat(a)),c=0;c<r.length;c++)r[c].checked=!1;var o=JSON.parse(localStorage.getItem("compareTrayItems"));o=o.filter((function(e){return e.catalog_item_id!==a})),localStorage.setItem("compareTrayItems",JSON.stringify(o)),O(localStorage.getItem("compareTrayItems")?JSON.parse(localStorage.getItem("compareTrayItems")):[]),0===o.length&&g(!1),Object(E.a)(t,"remove")},pdpInfoData:t,shippingInfoGAEvent:l}),o.a.createElement("div",{className:"action-wrap pdp-compare-buttons"},o.a.createElement("button",{className:"icon icon-close compare-close",onClick:function(){g(!1),Object(_.a)("cancel")}}),o.a.createElement("button",{className:"btn btn-default compare-cta",disabled:b.length<=1,onClick:function(){!function(){var e=localStorage.getItem("compareTrayItems");if(e){var a=JSON.parse(e);N(b,"compare_flow_38_compare_confirm_click","Confirm Compare",S),a&&Array.isArray(a)&&a.length>0&&(a.map((function(e,t){e.catalog_item_id&&(h+="productCode".concat(t,"=").concat(e.catalog_item_id),t!==a.length-1&&(h+="&"))})),m.push(h))}}(),Object(_.a)("compare")}},y.a.COMPARE_BUTTON_TEXT),o.a.createElement("button",{className:"btn btn-default compare-cancel-cta",onClick:function(e){!function(e){Object(_.a)("clear all");var a=JSON.parse(localStorage.getItem("compareTrayItems"));if(a){N(b,"compare_flow_37_clear_all_click","Clear All CTA",S),a.forEach((function(e){if(document.querySelector(".compare".concat(e.catalog_item_id)))for(var a=document.querySelectorAll(".compare".concat(e.catalog_item_id)),t=0;t<a.length;t++)a[t].checked=!1}));localStorage.setItem("compareTrayItems",JSON.stringify([])),O([]),g(!1)}}()}},y.a.CLEAR_ALL_BUTTON_TEXT)))))}catch(T){return console.log(T),o.a.createElement(o.a.Fragment,null," ")}}))}}]);