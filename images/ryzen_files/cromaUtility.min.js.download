function getCustomerHash(){if(localStorage.getItem("customer_hash")){const e=localStorage.getItem("customer_hash");return!(!e||""===e||null===e)&&e}return!1}function callDY(e,t,o){let a;a="HOMEPAGE"===e||"OTHER"===e?{type:e}:{type:e,data:o},void 0!==window.DY&&window.DY.API("spa",{context:a,url:t,countAsPageview:!0})}function callDYEvent(e,t){void 0!==window.DY&&window.DY.API("event",{name:e,properties:t})}function getTCLEndpoint(){const e=window.location.hostname;return e.includes("dev")||e.includes("qa")||e.includes("local")||e.includes("perf")?"https://livevideo.croma.com:8443/CromaPC/assets/openedwindow.html?protocol=https:&widgetHost=livevideo.croma.com:8443&helperapi=SocialConnectorHelperAPI&newWindowTitle=Chat&dataFileUrl=https://livevideo.croma.com:8443/SocialConnectorHelperAPI/api/customchat/getWidgetConfiguration?WidgetId=":"https://livevideo.croma.com/PS.CustomChat/assets/openedwindow.html?protocol=https:&widgetHost=livevideo.croma.com&helperapi=SocialConnectorHelperAPI&newWindowTitle=Chat&dataFileUrl=https://livevideo.croma.com/SocialConnectorHelperAPI/api/customchat/getWidgetConfiguration?WidgetId="}function detectiOSVersion(){const e=get_browser_info();if("Chrome"===e.name&&parseInt(e.version)<83)return displaySuggestedBrowser("Chrome 83 and above"),!1;if(detectSafari()){const e=navigator.userAgent;let t;if(-1!==e.search("iPhone OS ")){if(t=e.substring(35).split(" ")[0].replace(/_/g,"."),t<"14.4")return displaySuggestedBrowser("Safari 14.4 and above"),!1}else if(t=e.substring(e.search("Version/")+8).split(" ")[0],t<"14.0.3")return-1!==e.search("iPad;")||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>0?displaySuggestedBrowser("Safari 14.4 and above"):displaySuggestedBrowser("Safari 14.0.3 and above"),!1}return!0}function callConnectToStore(){setTimeout((()=>{document.querySelectorAll(".connectToStoreFlag").forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),"undefined"!=typeof window&&"function"==typeof window.openConnectToStoreModal&&window.openConnectToStoreModal("Product","")}))}))}),1e3)}function get_browser_info(){const e=navigator.userAgent;let t,o=e.match(/(chrome|safari(?=\/))\/?\s*(\d+)/i)||[];return o=o[2]?[o[1],o[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(t=e.match(/version\/(\d+)/i))&&o.splice(1,1,t[1]),{name:o[0],version:o[1]}}function schedulerToggler(){const e=window.location.hostname;return!(!e.includes("qa")&&!e.includes("local"))}function getURLPathUtility(e){return/\/c\//.test(e)?"plp":/\/p\//.test(e)?"pdp":/\/compare\//.test(e)?"compare":/\/cart/.test(e)?"cart summary":/\/checkout/.test(e)?"order summary":/\/payment/.test(e)&&!/\/payment-faq/.test(e)?"payment method":/\/order-confirmation/.test(e)?"thank you":/\/search/.test(e)?"search":"/"===e?"homePage":"/my-account"===e?"my account":"/my-account/update-profile"===e?"login and security":"/my-account/add-address"===e||/\/my-account\/edit-address\//.test(e)?"manage address":"/my-account/address-book"===e?"my address":"/my-account/wishlist"===e?"my wishlist":"/my-account/orders"===e?"my orders":"/store"===e?"store":"/appointment"===e?"appointment":/\/b\//.test(e)?"brand":/\/validate-sso-token\//.test(e)?"login":""===e?"":/\/my-account\/order-details\//.test(e)?"order details":"cms pages"}function getPageName(e=""){let t="",o="",a={};if("undefined"!=typeof Storage&&(localStorage.getItem("urlPath")&&(a=JSON.parse(localStorage.getItem("urlPath"))),Object.keys(a).length>0)){const e=a.prevPath?a.prevPath:"",r=a.currentPath?a.currentPath:"";e&&(t=getURLPathUtility(e)),r&&(o=getURLPathUtility(r))}return""===e?o:{previousPagename:t,currentPagename:o}}let utmcounter=0;async function getUtmEcid(){let e="";return void 0!==window._satellite?("undefined"!==window._satellite.getVar("ECID")&&(e=window._satellite.getVar("ECID"),localStorage.setItem("utmEcid",e)),e):utmcounter<5?(utmcounter+=1,void setTimeout((()=>window.getUtmEcid()),500)):localStorage.getItem("utmEcid")?localStorage.getItem("utmEcid"):e}async function adobeRedirectCall(e="others",t="clicked",o="body"){const a=getCustomerHash(),r=getPageName("two");let n="",i="",s="",c="";const d="undefined"!=typeof window&&"function"==typeof window.getUserInfo?window.getUserInfo():{user_email:"",user_mobile:""},l=r&&(r.previousPagename?r.previousPagename:""),u=r&&(r.currentPagename?r.currentPagename:"");if(n=localStorage.getItem("3hrPincode")?JSON.parse(localStorage.getItem("3hrPincode")):"",i=localStorage.getItem("preferredStore")?JSON.parse(localStorage.getItem("preferredStore")):"",getCustomerHash()?(c="registered user",s=a):(c="guest user",s=""),"undefined"!=typeof window){"/my-account/orders"===window.location.pathname&&(e="orders",o="head");const a={page:{pageName:"redirect_success"===t?l:u,channel:"redirect_success"===t?`croma:${l}`:`croma:${u}`,prevPageName:"redirect_success"===t?"login":l,pinCode:n,storeName:i,emailID:d.user_email,mobNo:d.user_mobile,loginStatus:c,customerID:s},event:{linkName:"redirect_success"===t?`${e}`:`${e}:login_redirects`,linkType:`${t}`,linkPosition:o}};if(localStorage.getItem("wishlist_persist_obj")){const e=JSON.parse(localStorage.getItem("wishlist_persist_obj"));e.adobe_obj&&e.adobe_obj.product&&(a.product=e.adobe_obj.product)}window.digitalData=a,localStorage.setItem("testData",JSON.stringify(window.digitalData))}}